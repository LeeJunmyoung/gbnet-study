# 데이터 집계
> SQL 에서 제공하는 Group By 연산과 비슷한 기능을 낼 수 있다.  


## Aggregation API
> 기존 검색 쿼리에 집계구문을 추가하는 방식으로 수행가능하다.

* 버킷 집계 : 쿼리 결과로 도출된 문서 집합에 대해 특정 기준으로 나눈 다음 나눠지 문서들에 대한 산술 연산을 수행. 이때 나눠진 문서들의 모음들이 버킷에 해당.  
* 메트릭 집계 : 쿼리 결과로 도출된 문서집합에서 필드의 값을 더하거나 평균을 내는등의 산술 연산  
* 파이프라인 집계 : 다른 집계또는 관련 메트릭 연산의 결과를 집계  
* 행렬 집계 : 버킷대상이 되는 도큐먼트의 여러 필드에서 추출한 값으로 행렬 연산을 수행. 아직은 공식 지원 X


```
{
    "query" : {....},
    "aggs" : {....}
}
```