# IEEE 754(부동소수점 표기표준)  
> 전기 전자 기술자 협회(IEEE)에서 개발한 컴퓨터 부동소수점을 표현하는 가장 널리 쓰이는 표준이다.    
> +-0 , 무한, NaN(Not a Number) 등의 기호를 표시하는 법과 이러한 수에 대한 연산을 정의하고 있다.  
> IEEE 754에는 32 비트 단정도(Single-precision), 64비트 배정도(double-precision) 등등에 형식을 정의하고 있따.    
> 대부분의 언어에서 float는 단정도, double은 배정도와 대응된다.  

## 이슈!!!
> 미트박스 사이트내 계근정산시 일반 구매에 경우 ((최대중량 * (kg당 가격 + 옵션1 + 옵션2 + 옵션3)) 소수점 올림) * 박스 수    
> 대량구매 경우 ((최대중량 * kg당 가격 * 박스 수) 소수점 올림)    
> 반올림 과정에서 반올림이 안되는걸 식별.!  원인은 IEEE 754 부동소수점 표기표준 때문.  
> ex) Math.floor(반올림할 수 + 0.5) < 요런식으로 계산중이엿음.!! 상식적으론 당연히 0.5가 넘으면 반올림이 될거라 생각함.    
> 하지만 결과는 다름 아래와 같은 이유때문에.  

## 구조
![구조](./부동수수점표기표준구조.PNG)

1. 부호비트 : 0 일 경우 양수, 1일 경우 음수    
2. 지수부 : 기준값(Bias)를 기준 32비트 127, 64비트 1023    
ex) 32bit는 지수부 8비트(0111 1111), 64bit 는 지수부 11비트(011 1111 1111)    
3. 가수부 : 1.xxxxxx X 2^n 형태로 정규화된 부동수점을 만든 수에 왼쪽에 1을 제거하고 소수점 이하의 자리값.   

## 표현 과정.
* -127.625 (단정도)
1. 변환 하려는 수가 양수인지 음수인지 판별. 양수일 경우 부호비트 0, 음수일 경우 1   
    - 31번째 수는 1  
2. 해당 수에 절대 값을 2진수를 변환  
    - 1111111.101  
3. 소수점을 왼쪽으로 이동시켜, 왼쪽에는 1만 남게 한다.  
    - 1.111111101 X 2^6 (정규화된 부동소수점 수)  
4. 가수부는 소수점의 오른쪽 부분으로, 부족한 비트 수 부분만큼 0으로 채워 가수브를 채운다.   
    - 111 1111 0100 0000 0000  
5. 지수는 6이므로 Bias에서 더한다 .  
    - 127 + 6 = 133 -> 1000 0101  
6. 종합하면  
    - 1 | 1000 0101 | 111 1111 0100 0000 0000   
![부동소수점 계산기](./계산예제.PNG)  
[참고 사이트](https://www.binaryconvert.com/result_float.html?hexadecimal=C2FF4000)  

## 그렇다면 이게 왜?? 문제를 일으킬까??  
> 0.1 + 0.5 를 해본 다면 ?? 32비트로 해보자.
1. 0.5 